{"version":3,"file":"jsURL.js","names":["regexs","url","RegExp","host","URL","base","resolve","href","protocol","username","password","pathname","search","hash","toString","matches","exec","Error","hostname","port","URLSearchParams","parseQueryString","slashes","auth","path","query","searchParams","parse","srcURL","dstURL","fields","i","length","field","replace","substring","pairs","split","forEach","pair","index","indexOf","key","val","push","splice","sorted","keys","Object","sort","values","denormalized","vals","callback","thisArg","entries","apply","exclude_question_mark","prefix","map_clone","module","exports","e","window","jsURL"],"sources":["../es6-node/jsURL.js"],"sourcesContent":["const regexs = {\r\n  url:  new RegExp('^([^/:]+:)?(?://(?:([^/:@]+):?([^/:@]+)?@)?([^:/\\\\?#]+)(?::(\\\\d+))?)?(/[^\\\\?#]*|[^\\\\?#]+)?(\\\\?[^#]*)?(#.*)?$'),\r\n  host: /^([^:]+)(?::(\\d+))?$/\r\n}\r\n\r\nclass URL {\r\n  #_searchParams = ''\r\n\r\n  constructor(url, base) {\r\n    if (base)\r\n      url = URL.resolve(url, base) || ''\r\n\r\n    this.href = url\r\n  }\r\n\r\n  static resolve(url, base) {\r\n    const srcURL = new URL(base)\r\n    const dstURL = new URL(url)\r\n\r\n    const fields = ['protocol', 'username', 'password', 'hostname', 'port', 'pathname', 'search', 'hash']\r\n\r\n    // copy missing fields in order, and stop when the 1st populated field is encountered.\r\n    // when the 1st populated field is pathname, do the equivalent to: path.join(base_pathname, url_pathname)\r\n    for (let i=0; i < fields.length; i++) {\r\n      let field = fields[i]\r\n\r\n      if ((field === 'pathname') && dstURL[field] && srcURL[field] && (dstURL[field][0] !== '/'))\r\n        dstURL[field] = srcURL[field].replace(/[^\\/]*$/, '') + dstURL[field]\r\n      if (dstURL[field])\r\n        break\r\n      if (srcURL[field])\r\n        dstURL[field] = srcURL[field]\r\n    }\r\n\r\n    return dstURL.toString()\r\n  }\r\n\r\n  toString() {\r\n    return `${this.protocol}${this.host ? `//${this.username ? (this.password ? `${this.username}:${this.password}@` : `${this.username}@`) : ''}${this.host}` : ''}${this.pathname}${this.search}${this.hash}`\r\n  }\r\n\r\n  toJSON() {\r\n    return this.toString()\r\n  }\r\n\r\n  get href() {\r\n    return this.toString()\r\n  }\r\n\r\n  set href(url) {\r\n    const matches = regexs.url.exec(url)\r\n    if (!matches) throw new Error(\"Failed to construct 'URL': Invalid URL\")\r\n\r\n    this.protocol     = matches[1] || ''\r\n    this.username     = matches[2] || ''\r\n    this.password     = matches[3] || ''\r\n    this.hostname     = matches[4] || ''\r\n    this.port         = matches[5] || ''\r\n    this.pathname     = matches[6] || ''\r\n    this.search       = matches[7] || ''\r\n    this.hash         = matches[8] || ''\r\n  }\r\n\r\n  get host() {\r\n    return this.port ? `${this.hostname}:${this.port}` : this.hostname\r\n  }\r\n\r\n  set host(host) {\r\n    const matches = regexs.host.exec(host)\r\n    if (!matches) throw new Error(\"Failed to update 'URL': Invalid host\")\r\n\r\n    this.hostname     = matches[1] || ''\r\n    this.port         = matches[2] || ''\r\n  }\r\n\r\n  // read-only\r\n  get origin() {\r\n    return `${this.protocol}//${this.host}`\r\n  }\r\n\r\n  get search() {\r\n    return this.#_searchParams.toString()\r\n  }\r\n\r\n  set search(search) {\r\n    this.#_searchParams = new URLSearchParams(search)\r\n  }\r\n\r\n  // read-only\r\n  get searchParams() {\r\n    return this.#_searchParams\r\n  }\r\n\r\n  // ===================\r\n  // additional methods:\r\n  // ===================\r\n\r\n  parse(parseQueryString = false) {\r\n    return {\r\n      slashes:  true,\r\n      href:     this.href,\r\n      protocol: this.protocol,\r\n      username: this.username,\r\n      password: this.password,\r\n      auth:     `${this.username ? (this.password ? `${this.username}:${this.password}` : `${this.username}`) : ''}`,\r\n      hostname: this.hostname,\r\n      port:     this.port,\r\n      host:     this.host,\r\n      pathname: this.pathname,\r\n      search:   this.search,\r\n      path:     `${this.pathname}${this.search}`,\r\n      query:    (parseQueryString ? this.searchParams.parse() : this.searchParams.toString(/* exclude_question_mark= */ true)),\r\n      hash:     this.hash\r\n    }\r\n  }\r\n}\r\n\r\nclass URLSearchParams {\r\n  #_map    = {}\r\n  #_sorted = false\r\n\r\n  constructor(search) {\r\n    this.#_map = {}\r\n\r\n    if (search && (search[0] === '?'))\r\n      search = search.substring(1)\r\n\r\n    if (search) {\r\n      const pairs = search.split('&')\r\n      pairs.forEach(pair => {\r\n        const index = pair.indexOf('=')\r\n\r\n        if (index > 0) {\r\n          const key = pair.substring(0, index)\r\n          const val = (index + 1 < pair.length) ? pair.substring(index + 1) : ''\r\n\r\n          if (!this.#_map[key])\r\n            this.#_map[key] = []\r\n\r\n          this.#_map[key].push(val)\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  has(key) {\r\n    return !!this.#_map[key]\r\n  }\r\n\r\n  get(key) {\r\n    return this.#_map[key] ? this.#_map[key][0] : null\r\n  }\r\n\r\n  getAll(key) {\r\n    return this.#_map[key] ? [...this.#_map[key]] : []\r\n  }\r\n\r\n  set(key, val) {\r\n    this.#_map[key] = [val]\r\n  }\r\n\r\n  append(key, val) {\r\n    if (!this.#_map[key])\r\n      this.#_map[key] = []\r\n\r\n    this.#_map[key].push(val)\r\n  }\r\n\r\n  delete(key, val) {\r\n    if (!this.#_map[key]) return\r\n\r\n    if (val) {\r\n      const index = this.#_map[key].indexOf(val)\r\n      if (index >= 0) {\r\n        this.#_map[key].splice(index, 1)\r\n\r\n        if (!this.#_map[key].length)\r\n          delete this.#_map[key]\r\n      }\r\n    }\r\n    else {\r\n      delete this.#_map[key]\r\n    }\r\n  }\r\n\r\n  sort(sorted = true) {\r\n    this.#_sorted = !!sorted\r\n  }\r\n\r\n  keys() {\r\n    const keys = Object.keys(this.#_map)\r\n    if (this.#_sorted) keys.sort()\r\n    return keys\r\n  }\r\n\r\n  values() {\r\n    const values = []\r\n    for (const key in this.#_map) {\r\n      values.push(...this.#_map[key])\r\n    }\r\n    if (this.#_sorted) values.sort()\r\n    return values\r\n  }\r\n\r\n  entries() {\r\n    const denormalized = []\r\n    const keys = this.keys()\r\n    keys.forEach(key => {\r\n      const vals = this.#_sorted\r\n        ? [...this.#_map[key]].sort()\r\n        : this.#_map[key]\r\n      vals.forEach(val => {\r\n        denormalized.push([key, val])\r\n      })\r\n    })\r\n    return denormalized\r\n  }\r\n\r\n  forEach(callback, thisArg) {\r\n    const denormalized = this.entries()\r\n    denormalized.forEach(([key, val]) => {\r\n      callback.apply(thisArg, [val, key, this])\r\n    })\r\n  }\r\n\r\n  toString(exclude_question_mark = false) {\r\n    let search = ''\r\n    const denormalized = this.entries()\r\n    denormalized.forEach(([key, val]) => {\r\n      let prefix = search ? '&' : exclude_question_mark ? '' : '?'\r\n      search += `${prefix}${key}=${val}`\r\n    })\r\n    return search\r\n  }\r\n\r\n  toJSON() {\r\n    return this.toString()\r\n  }\r\n\r\n  // ===================\r\n  // additional methods:\r\n  // ===================\r\n\r\n  parse() {\r\n    const map_clone = {}\r\n    for (const key in this.#_map) {\r\n      map_clone[key] = [...this.#_map[key]]\r\n    }\r\n    return map_clone\r\n  }\r\n}\r\n\r\nconst parse = (url, parseQueryString = false) => {\r\n  return (new URL(url)).parse(parseQueryString)\r\n}\r\n\r\nconst resolve = (base, url) => URL.resolve(url, base)\r\n\r\ntry {\r\n  if (module instanceof Object)\r\n    module.exports = {URL, URLSearchParams, parse, resolve}\r\n}\r\ncatch(e) {}\r\n\r\ntry {\r\n  if (window instanceof Object)\r\n    window.jsURL = {URL, URLSearchParams, parse, resolve}\r\n}\r\ncatch(e) {}\r\n"],"mappings":"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"}